# yaml-language-server: $schema=https://raw.githubusercontent.com/horizonx-tech/chainsight-cli/main/resources/schema/snapshot_indexer_icp.json
version: v1
metadata:
  label: wbtc_eth_0_05_indexer
  type: snapshot_indexer_icp
  description: 'This canister indexes the EDPR of this pair'
  tags:
  - Uniswap
  - WBTC/(W)ETH
  - EDPR
  - Ethereum
datasource:
  type: canister
  location:
    id: shared_algorithm_lens
  method:
    identifier: 'get_last_snapshot : () -> (record { value : text; timestamp : nat64 })'
    candid_file_path: src/canisters/shared_algorithm_lens/shared_algorithm_lens.did
    interface: null
    args: []
storage:
  with_timestamp: true
interval: ${INTERVAL}
lens_targets:
  identifiers:
    - wbtc_eth_0_05_pool_fees
    - wbtc_eth_0_05_tcumul_28x6hr
    - wbtc_eth_0_05_v3pool
    - eth_usdc_price
